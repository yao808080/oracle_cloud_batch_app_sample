# Helidon MP Configuration
server.port=8080
server.host=0.0.0.0

# Database Configuration (PostgreSQL for testing)
datasource.url=${DB_URL:jdbc:postgresql://localhost:5432/testdb}
datasource.username=${DB_USERNAME:testuser}
datasource.password=${DB_PASSWORD:testpass}
datasource.poolName=CsvBatchPool

# UCP Connection Pool Settings
datasource.connectionPooling.initialPoolSize=2
datasource.connectionPooling.minPoolSize=2
datasource.connectionPooling.maxPoolSize=10
datasource.connectionPooling.connectionTimeout=60000
datasource.connectionPooling.inactiveConnectionTimeout=300000
datasource.connectionPooling.maxStatements=100

# Autonomous Database Settings (Optional)
autonomous.wallet.path=${TNS_ADMIN:}
autonomous.wallet.password=${WALLET_PASSWORD:}
autonomous.service=${DB_SERVICE:dbname_high}

# SOAP API Configuration
soap.api.url=${SOAP_API_URL:http://localhost:8080/ws}
soap.api.timeout.connection=30000
soap.api.timeout.read=60000

# CSV Export Configuration
csv.output.path=/app/output/result.csv
csv.export.enabled=true
csv.export.storage-upload=true
csv.export.local-backup=true
csv.batch.size=1000

# OCI Configuration (OCI Emulator)
oci.config.profile=${OCI_PROFILE:DEFAULT}
oci.region=${OCI_REGION:us-ashburn-1}
oci.auth.method=${OCI_AUTH_METHOD:local_testing}

# Object Storage Configuration (OCI Emulator)
oci.objectstorage.namespace=${OCI_NAMESPACE:test-namespace}
oci.objectstorage.bucket=${OCI_BUCKET:csv-export-bucket}
oci.objectstorage.prefix=exports/
oci.objectstorage.endpoint=${OCI_OBJECTSTORAGE_ENDPOINT:http://localhost:12000}

# OCI Vault Configuration
oci.vault.secret.database-password.id=${VAULT_DB_PASSWORD_SECRET_ID:}
oci.vault.secret.soap-api-key.id=${VAULT_SOAP_API_KEY_SECRET_ID:}
oci.vault.refresh.interval=3600000

# Fault Tolerance Configuration
mp.faulttolerance.retry.maxRetries=3
mp.faulttolerance.retry.delay=1000
mp.faulttolerance.retry.delayUnit=MILLIS
mp.faulttolerance.retry.maxDuration=10000
mp.faulttolerance.retry.durationUnit=MILLIS

mp.faulttolerance.circuitbreaker.requestVolumeThreshold=5
mp.faulttolerance.circuitbreaker.failureRatio=0.5
mp.faulttolerance.circuitbreaker.delay=10000
mp.faulttolerance.circuitbreaker.delayUnit=MILLIS

# Resilience4j Configuration
resilience4j.retry.instances.soapService.max-attempts=3
resilience4j.retry.instances.soapService.wait-duration=1000
resilience4j.retry.instances.soapService.exponential-backoff-multiplier=2.0

resilience4j.circuitbreaker.instances.soapService.failure-rate-threshold=50
resilience4j.circuitbreaker.instances.soapService.wait-duration-in-open-state=10s
resilience4j.circuitbreaker.instances.soapService.sliding-window-size=10
resilience4j.circuitbreaker.instances.soapService.minimum-number-of-calls=5

# Metrics Configuration
metrics.export.enabled=true
metrics.export.interval=60000

# Health Check Configuration
health.checks.enabled=true
health.checks.database.enabled=true
health.checks.objectstorage.enabled=true

# Logging Configuration
logging.level=INFO
logging.level.com.example.csvbatch=DEBUG
logging.pattern=%d{yyyy-MM-dd HH:mm:ss} %-5level [%thread] %logger{36} - %msg%n